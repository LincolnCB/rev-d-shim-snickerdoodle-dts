/**
 * Copyright (c) 2016 krtkl inc.
 *
 * snickerdoodle black birddog studio testing device tree source
 *
 * This program is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 as published by
 * the Free Software Foundation.
 */

/dts-v1/;
/include/ "snickerdoodle-black.dtsi"

/ {
	model = "snickerdoodle black";

	aliases {
		ethernet0 = &gem0;
		spi2 = &spi0;
	};

        usb_phy0: phy0 {
                compatible = "usb-nop-xceiv";
                #phy-cells = <0>;
        };
};

&i2c0 {
	status = "okay";
	clock-frequency = <100000>;
};

&spi0 {
	status = "okay";
	
	spidev@0 {
		compatible = "spidev";
		spi-max-frequency = <5000000>;
		reg = <0>;
	};

	spidev@1 {
		compatible = "spidev";
		spi-max-frequency = <5000000>;
		reg = <1>;
	};
};

&gem0 {
	status = "okay";
	phy-handle = <&ethernet_phy0>;
	phy-mode = "rgmii-id";

	ethernet_phy0: ethernet-phy@0 {
		device_type = "ethernet-phy";
		reg = <0>;
	};
};

&usb0 {
	status = "okay";
	dr_mode = "host";
	usb-phy = <&usb_phy0>;
};


&amba {
	strm_ctrl: strm_ctrl@43c00000 {
		compatible = "krtkl,generic-uio,ui_pdrv";
		reg = <0x43c00000 0x10000>;
		interrupt-parent = <&intc>;
		interrupts = <0 29 4>;
	};
};
